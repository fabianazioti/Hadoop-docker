# Primeiro realizar o build da imagem

sudo docker build --tag fzioti/hadoop:3.1.1 .

# Criar a rede 
sudo docker network create --driver=bridge hadoop

# Start Contener

sudo docker run -itd \
                --net=hadoop \
                -p 50070:50070 \
                -p 8088:8088 \
                --name hadoop-master \
                --hostname hadoop-master \
                fzioti/hadoop:3.1.1 &> /dev/null

sudo docker run -itd \
	                --net=hadoop \
	                --name hadoop-slave1 \
	                --hostname hadoop-slave2 \
	                fzioti/hadoop:3.1.1 &> /dev/null


sudo docker run -itd \
	                --net=hadoop \
	                --name hadoop-slave2 \
	                --hostname hadoop-slave2 \
	                fzioti/hadoop:3.1.1 &> /dev/null

# get into hadoop master container
sudo docker exec -it hadoop-master bash
